(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{75:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(4),c=t.n(r);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,a){return(u=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}var d=function(e){function a(e){var t,n,l;return function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),n=this,(t=!(l=o(a).call(this,e))||"object"!==s(l)&&"function"!=typeof l?i(n):l).state={loading:!1,film:null,msg:null,disabled:!1},t.handleOnchange=t.handleOnchange.bind(i(t)),t}var t,n,r;return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&u(e,a)}(a,e),t=a,(n=[{key:"UNSAFE_componentWillMount",value:function(){var e=this,a=this.props.match.params.id;console.log(a),c.a.get("/api/films/find/".concat(a)).then((function(a){var t=a.data.data;e.setState({film:t})})).catch((function(e){return console.error}))}},{key:"handleOnchange",value:function(e){var a=e.target,t="checkbox"===a.type?a.checked:a.value,n=a.name;this.setState(function(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}({},n,t))}},{key:"render",value:function(){var e=this,a=this.state.film;return a?l.a.createElement("div",null,l.a.createElement("div",{className:"hero sr-single-hero sr-single"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"})))),l.a.createElement("div",{className:"page-single movie-single movie_single"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row ipad-width2"},l.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},l.a.createElement("div",{className:"movie-img sticky-sb"},l.a.createElement("img",{src:a.photo,alt:""}),l.a.createElement("div",{className:"movie-btn"},l.a.createElement("div",{className:"btn-transform transform-vertical"},l.a.createElement("div",null,l.a.createElement("a",{href:"#",className:"item item-1 yellowbtn"}," ",l.a.createElement("i",{className:"ion-card"})," ","â‚¦ ".concat(a.ticket_price))),l.a.createElement("div",null,l.a.createElement("a",{href:"#",className:"item item-2 yellowbtn"},l.a.createElement("i",{className:"ion-card"}))))))),l.a.createElement("div",{className:"col-md-8 col-sm-12 col-xs-12"},l.a.createElement("div",{className:"movie-single-ct main-content"},l.a.createElement("h1",{className:"bd-hd"},a.name," ",l.a.createElement("br",null)," ",l.a.createElement("span",null," ",a.release_date)),l.a.createElement("div",{className:"social-btn"},l.a.createElement("a",{href:"#",className:"parent-btn"},l.a.createElement("i",{className:"ion-heart"})," Add to Favorite"),l.a.createElement("div",{className:"hover-bnt"},l.a.createElement("a",{href:"#",className:"parent-btn"},l.a.createElement("i",{className:"ion-android-share-alt"}),"share"),l.a.createElement("div",{className:"hvr-item"},l.a.createElement("a",{href:"#",className:"hvr-grow"},l.a.createElement("i",{className:"ion-social-facebook"})),l.a.createElement("a",{href:"#",className:"hvr-grow"},l.a.createElement("i",{className:"ion-social-twitter"})),l.a.createElement("a",{href:"#",className:"hvr-grow"},l.a.createElement("i",{className:"ion-social-googleplus"})),l.a.createElement("a",{href:"#",className:"hvr-grow"},l.a.createElement("i",{className:"ion-social-youtube"}))))),l.a.createElement("div",{className:"movie-rate"},l.a.createElement("div",{className:"rate"},l.a.createElement("i",{className:"ion-android-star"}),l.a.createElement("p",null,l.a.createElement("span",null,a.rating)," /5",l.a.createElement("br",null)))),l.a.createElement("div",{className:"movie-tabs"},l.a.createElement("div",{className:"tabs"},l.a.createElement("ul",{className:"tab-links tabs-mv tabs-series"},l.a.createElement("li",{className:"active"},l.a.createElement("a",{href:"#overview"},"Overview"))),l.a.createElement("div",{className:"tab-content"},l.a.createElement("div",{id:"overview",className:"tab active"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8 col-sm-12 col-xs-12"},l.a.createElement("p",null,a.description),l.a.createElement("div",{className:"title-hd-sm"},l.a.createElement("h4",null,"Comments"),l.a.createElement("a",{href:"#",className:"time"},"Count ".concat(a.comments.length),l.a.createElement("i",{className:"ion-ios-arrow-right"}))),l.a.createElement("div",{className:"mv-user-review-item"},a.comments.length>0?a.comments.map((function(e,a){return l.a.createElement("div",{key:a},l.a.createElement("h3",null,e.name),l.a.createElement("p",{className:"time"},e.created_at,l.a.createElement("a",{href:"#"}," ",e.name)),l.a.createElement("p",null,e.comment))})):"No Comments")),l.a.createElement("div",{className:"col-md-4 col-xs-12 col-sm-12"},l.a.createElement("h5",{className:"text-white"},"New Comment:"),l.a.createElement("br",null),null!=this.state.msg?l.a.createElement("div",{className:"alert alert-success",role:"alert"},this.state.msg):"",l.a.createElement("form",{onSubmit:function(a){a.preventDefault();var t=localStorage.staleState;if(!t||"object"!==s(JSON.parse(t)))return window.location.replace("/guest");e.setState({loading:!0});var n={film_id:e.state.film.id,name:e.state.name,comment:e.state.comment},l=JSON.parse(localStorage.getItem("staleState")),r=l.token;console.log(l),console.log(r),c.a.post("/api/comments/create",n,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}}).then((function(a){console.log(a.data),e.state.film.comments.push(a.data.data),e.setState({msg:"Comment has been added successfully",disabled:!0})})).catch((function(e){return console.error(e)}))}},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"text-white"},"Name"),l.a.createElement("input",{className:"form-control",type:"text",name:"name",onChange:this.handleOnchange,required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"text-white"},"Comment"),l.a.createElement("textarea",{className:"form-control",type:"text",name:"comment",onChange:this.handleOnchange,required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{className:"btn btn-info btn-lg",disabled:this.state.disabled},"Submit")))))),l.a.createElement("div",{id:"moviesrelated",className:"tab"})))))))))):(console.log(this.state),l.a.createElement("div",null,"eg"))}}])&&m(t.prototype,n),r&&m(t,r),a}(n.Component);a.default=d}}]);